<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[å¿«é€Ÿå¹‚]]></title>
      <url>/2022/10/18/NO7/</url>
      <content type="html"><![CDATA[<h1 id="å¿«é€Ÿå¹‚"><a href="#å¿«é€Ÿå¹‚" class="headerlink" title="å¿«é€Ÿå¹‚"></a>å¿«é€Ÿå¹‚</h1><h2 id="ğŸš€ä»‹ç»"><a href="#ğŸš€ä»‹ç»" class="headerlink" title="ğŸš€ä»‹ç»"></a>ğŸš€ä»‹ç»</h2><blockquote>
<p>å¿«é€Ÿå¹‚æŒ‡çš„æ˜¯åœ¨ä¸è¿›è¡Œè°ƒç”¨è¯­è¨€å¤–éƒ¨å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œè‡ªå·±å®Œæˆå¹‚è¿ç®—ï¼Œä¸€èˆ¬çš„å¹‚è¿ç®—åœ¨ç¢°åˆ°æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶ï¼Œä¼šå‡ºç°æ—¶é—´å¤æ‚åº¦è¿‡é«˜çš„æƒ…å†µï¼Œå› ä¸ºä¹˜æ³•æ˜¯å¾ˆè€—è´¹è¿ç®—æ—¶é—´çš„ã€‚æ‰€ä»¥æœ‰äº†å¿«é€Ÿå¹‚çš„ç®—æ³•ã€‚å¿«é€Ÿå¹‚å¯ç”¨äºå¤šç§å¹‚è¿ç®—çš„åœºæ™¯ã€‚å¸®åŠ©é™ä½æ—¶é—´å¤æ‚åº¦ã€‚</p>
<p>å¿«é€Ÿå¹‚æœ‰ä¸¤ç§å¸¸è§çš„ç®—æ³•ï¼Œä¸€ç§æ˜¯é€’å½’æ³•ï¼Œä¸€ç§æ˜¯è¿­ä»£æ³•ã€‚</p>
</blockquote>
<h1 id="ğŸ¯é€’å½’æ³•"><a href="#ğŸ¯é€’å½’æ³•" class="headerlink" title="ğŸ¯é€’å½’æ³•"></a>ğŸ¯é€’å½’æ³•</h1><blockquote>
<p><strong>pow(m,n),è¡¨ç¤ºçš„æ˜¯mçš„næ¬¡æ–¹ã€‚</strong></p>
<p>å…ˆçœ‹å‡ ä¸ªä¾‹å­ï¼š</p>
<blockquote>
<p>ä»¤n=64</p>
<p>â€‹       m-&gt;m^2^ -&gt;m^4^ -&gt;m^8^-&gt;m^16^ -&gt;m^32^ -&gt;m^64^ </p>
</blockquote>
<blockquote>
<p>ä»¤n = 12 </p>
<p>â€‹       m-&gt;m^3^-&gt;m^6^ -&gt;m^12^</p>
</blockquote>
<blockquote>
<p>ä»¤n = 13</p>
<p>â€‹       m-&gt;m^3^-&gt;m^6^ -&gt;m^13^</p>
</blockquote>
<p>ç€é‡ä»å³å‘å·¦çœ‹ä¸Šæ ‡çš„å˜åŒ–ï¼Œè‹¥æ˜¯å¥‡æ•° 13 å°±æ˜¯éœ€è¦6+6+1ï¼Œå¶æ•°12ç›´æ¥å°±æ˜¯6+6ï¼Œç›´æ¥å°±æ˜¯é™¤2å‘ä¸‹å–æ•´å¾—åˆ°éœ€è¦é€’å½’çš„æ•°ï¼Œç„¶åå†åˆ¤æ–­å¥‡æ•°å¶æ•°æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦å†ä¹˜ä»¥mã€‚</p>
<p>æ•´ä¸ªæµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>pow(m,n)</li>
<li>åˆ¤æ–­næ˜¯å¦ä¸º0ï¼Œä¸º0é€’å½’ç»“æŸè¿”å›1</li>
<li>ä¸ä¸º0ï¼Œx = $\lfloor{n}\rfloor$</li>
<li>è®¡ç®—y=pow(m,x)</li>
<li>è¿”å› y*y *ï¼ˆå¶æ•°ä¸º1ï¼Œå¥‡æ•°ä¸ºmï¼‰</li>
</ul>
</blockquote>
<p>â¯javaä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">N</span> <span class="operator">=</span> n;</span><br><span class="line">        <span class="comment">//è®°å¾—è€ƒè™‘è´Ÿæ•°çš„è®¡ç®—æ³•åˆ™</span></span><br><span class="line">        <span class="keyword">return</span> N &gt;= <span class="number">0</span> ? quickMul(x, N) : <span class="number">1.0</span> / quickMul(x, -N);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">quickMul</span><span class="params">(<span class="type">double</span> x, <span class="type">long</span> N)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (N == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">double</span> <span class="variable">y</span> <span class="operator">=</span> quickMul(x, N / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> N % <span class="number">2</span> == <span class="number">0</span> ? y * y : y * y * x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="ğŸ¤¡è¿­ä»£æ³•"><a href="#ğŸ¤¡è¿­ä»£æ³•" class="headerlink" title="ğŸ¤¡è¿­ä»£æ³•"></a>ğŸ¤¡è¿­ä»£æ³•</h1><blockquote>
<p>è¿­ä»£æ³•å°±æ›´åŠ å‰å®³äº†ï¼Œæ˜¯å¯¹äºè§„å¾‹çš„æ·±å±‚æ¬¡æŠŠæ¡ã€‚</p>
<p><em>x</em>â†’<em>x</em>2â†’<em>x</em>4â†’+<em>x</em>9â†’+x<em>19â†’</em>+x*38â†’+*x77</p>
<p>ä¸Šé¢çš„77æ¬¡æ–¹æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Œé¦–å…ˆ77/2ï¼Œä½™æ•°ä¸º1ï¼Œä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶å³ç§»å‡ºæ¥çš„ä¸€ä½ï¼Œå¯¹æœ€ç»ˆçš„ç»“æœè´¡çŒ®ä¸ºm^1^</p>
<p>åŒç†ï¼Œ19/2ï¼Œä½™æ•°ä¸º1ï¼Œç›¸å½“äº77äºŒè¿›åˆ¶ç§»å‡ºæ¥3ä½ï¼Œå¯¹æœ€ç»ˆçš„ç»“æœéƒ½è´¡çŒ®ä¸ºm^4^<br>           9/2,ä½™æ•°ä¸º1ï¼Œè´¡çŒ®ä¸ºm^8^<br>         æœ€åx è´¡çŒ®ä¸º m^64^</p>
</blockquote>
<blockquote>
<p> m^1^  * m^8^  * m^64^  = m^77^   è€Œ77çš„äºŒè¿›åˆ¶ä½ <strong>1001101</strong>   ï¼Œå¯¹åº”æ¯ä¸€ä¸ª1.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">N</span> <span class="operator">=</span> n;</span><br><span class="line">        <span class="keyword">return</span> N &gt;= <span class="number">0</span> ? quickMul(x, N) : <span class="number">1.0</span> / quickMul(x, -N);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">quickMul</span><span class="params">(<span class="type">double</span> x, <span class="type">long</span> N)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">1.0</span>;</span><br><span class="line">        <span class="comment">// è´¡çŒ®çš„åˆå§‹å€¼ä¸º x</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">x_contribute</span> <span class="operator">=</span> x;</span><br><span class="line">        <span class="comment">// åœ¨å¯¹ N è¿›è¡ŒäºŒè¿›åˆ¶æ‹†åˆ†çš„åŒæ—¶è®¡ç®—ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (N &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (N % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ä¸º 1ï¼Œé‚£ä¹ˆéœ€è¦è®¡å…¥è´¡çŒ®</span></span><br><span class="line">                ans *= x_contribute;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å°†è´¡çŒ®ä¸æ–­åœ°å¹³æ–¹</span></span><br><span class="line">            x_contribute *= x_contribute;</span><br><span class="line">            <span class="comment">// èˆå¼ƒ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ï¼Œè¿™æ ·æˆ‘ä»¬æ¯æ¬¡åªè¦åˆ¤æ–­æœ€ä½ä½å³å¯</span></span><br><span class="line">            N /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      
        <categories>
            
            <category> ç®—æ³•é›†é”¦ </category>
            
            <category> ç®—æ³•é¢˜ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å¿«é€Ÿå¹‚ </tag>
            
            <tag> é€’å½’ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ•°ä½DPæ¨¡æ¿]]></title>
      <url>/2022/10/18/NO6/</url>
      <content type="html"><![CDATA[<h1 id="æ•°ä½DP"><a href="#æ•°ä½DP" class="headerlink" title="æ•°ä½DP"></a>æ•°ä½DP</h1><blockquote>
<p>æ•°ä½dpçš„é¢˜å‹éƒ½æœ‰å¾ˆæ˜æ˜¾çš„ç‰¹å¾ï¼Œé€šå¸¸å°±æ˜¯ç»™å®šä¸€ä¸ªå€¼100ã€1425ã€36479ã€ã€‚ã€‚ã€‚ã€‚ã€‚ç„¶åç»™å®šä¸€ä¸ªè§„åˆ™ï¼Œæ±‚æ»¡è¶³è§„åˆ™çš„å°äºç­‰äºç»™å®šå€¼çš„æ•°é‡</p>
</blockquote>
<p><strong>æ¨¡æ¿</strong></p>
<blockquote>
<h4 id="169ã€æœ€å¤§ä¸º-N-çš„æ•°å­—ç»„åˆ"><a href="#169ã€æœ€å¤§ä¸º-N-çš„æ•°å­—ç»„åˆ" class="headerlink" title="169ã€æœ€å¤§ä¸º N çš„æ•°å­—ç»„åˆ"></a><a href="https://leetcode.cn/problems/numbers-at-most-n-given-digit-set/">169ã€æœ€å¤§ä¸º N çš„æ•°å­—ç»„åˆ</a></h4><p>éš¾åº¦å›°éš¾</p>
<p>ç»™å®šä¸€ä¸ªæŒ‰ <strong>éé€’å‡é¡ºåº</strong> æ’åˆ—çš„æ•°å­—æ•°ç»„ <code>digits</code> ã€‚ä½ å¯ä»¥ç”¨ä»»æ„æ¬¡æ•° <code>digits[i]</code> æ¥å†™çš„æ•°å­—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <code>digits = [&#39;1&#39;,&#39;3&#39;,&#39;5&#39;]</code>ï¼Œæˆ‘ä»¬å¯ä»¥å†™æ•°å­—ï¼Œå¦‚ <code>&#39;13&#39;</code>, <code>&#39;551&#39;</code>, å’Œ <code>&#39;1351315&#39;</code>ã€‚</p>
<p>è¿”å› <em>å¯ä»¥ç”Ÿæˆçš„å°äºæˆ–ç­‰äºç»™å®šæ•´æ•° <code>n</code> çš„æ­£æ•´æ•°çš„ä¸ªæ•°</em> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šdigits = [&quot;1&quot;,&quot;3&quot;,&quot;5&quot;,&quot;7&quot;], n = 100</span><br><span class="line">è¾“å‡ºï¼š20</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å¯å†™å‡ºçš„ 20 ä¸ªæ•°å­—æ˜¯ï¼š</span><br><span class="line">1, 3, 5, 7, 11, 13, 15, 17, 31, 33, 35, 37, 51, 53, 55, 57, 71, 73, 75, 77.</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šdigits = [&quot;1&quot;,&quot;4&quot;,&quot;9&quot;], n = 1000000000</span><br><span class="line">è¾“å‡ºï¼š29523</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æˆ‘ä»¬å¯ä»¥å†™ 3 ä¸ªä¸€ä½æ•°å­—ï¼Œ9 ä¸ªä¸¤ä½æ•°å­—ï¼Œ27 ä¸ªä¸‰ä½æ•°å­—ï¼Œ</span><br><span class="line">81 ä¸ªå››ä½æ•°å­—ï¼Œ243 ä¸ªäº”ä½æ•°å­—ï¼Œ729 ä¸ªå…­ä½æ•°å­—ï¼Œ</span><br><span class="line">2187 ä¸ªä¸ƒä½æ•°å­—ï¼Œ6561 ä¸ªå…«ä½æ•°å­—å’Œ 19683 ä¸ªä¹ä½æ•°å­—ã€‚</span><br><span class="line">æ€»å…±ï¼Œå¯ä»¥ä½¿ç”¨Dä¸­çš„æ•°å­—å†™å‡º 29523 ä¸ªæ•´æ•°ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šdigits = [&quot;7&quot;], n = 8</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><p><code>1 &lt;= digits.length &lt;= 9</code></p>
</li>
<li><p><code>digits[i].length == 1</code></p>
</li>
<li><p><code>digits[i]</code> æ˜¯ä» <code>&#39;1&#39;</code> åˆ° <code>&#39;9&#39;</code> çš„æ•°</p>
</li>
<li><p><code>digits</code> ä¸­çš„æ‰€æœ‰å€¼éƒ½ <strong>ä¸åŒ</strong> </p>
</li>
<li><p><code>digits</code> æŒ‰ <strong>éé€’å‡é¡ºåº</strong> æ’åˆ—</p>
</li>
<li><p><code>1 &lt;= n &lt;= 109</code></p>
</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">atMostNGivenDigitSet</span><span class="params">(String[] D, <span class="type">int</span> N)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">S</span> <span class="operator">=</span> String.valueOf(N);</span><br><span class="line">        <span class="type">int</span> <span class="variable">K</span> <span class="operator">=</span> S.length();</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[K+<span class="number">1</span>];</span><br><span class="line">        dp[K] = <span class="number">1</span>;<span class="comment">//è¿™ä¸ªä»£è¡¨Nè‡ªèº«ï¼Œå…ˆç»™åŠ ä¸Šé¿å…å¿˜äº†</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸‹é¢å°±æ˜¯dpçš„è¿‡ç¨‹ï¼Œä¾‹å¦‚ç»™å®š6542ï¼Œä¸‹é¢å¾ªç¯å°±æ˜¯æ±‚1*** ï¼Œ2***,3***,4***,5***,61**....65**,654*..,6542,å…¶å®è¿™é‡Œç¼ºå°‘ä¸€äº›æ•°å­—ï¼Œä¸‰ä½æ•°ï¼Œä¸¤ä½æ•°ï¼Œä¸è¦æ€¥ï¼Œå†ä¸‹é¢</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> K-<span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="comment">// compute dp[i]</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">Si</span> <span class="operator">=</span> S.charAt(i) - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="keyword">for</span> (String d: D) &#123;</span><br><span class="line">                <span class="keyword">if</span> (Integer.valueOf(d) &lt; Si)</span><br><span class="line">                    dp[i] += Math.pow(D.length, K-i-<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (Integer.valueOf(d) == Si)</span><br><span class="line">                    dp[i] += dp[i+<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//è¿™é‡Œå°±æ˜¯ä¸‰ä½æ•°ï¼Œä¸¤ä½æ•°çš„ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; K; ++i)</span><br><span class="line">            dp[<span class="number">0</span>] += Math.pow(D.length, i);</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      
        <categories>
            
            <category> ç®—æ³•é›†é”¦ </category>
            
            <category> ç®—æ³•æ¨¡æ¿ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ¨¡æ¿ </tag>
            
            <tag> æ•°ä½dp </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å¹¶æŸ¥é›†]]></title>
      <url>/2022/10/18/NO5/</url>
      <content type="html"><![CDATA[<h1 id="1-å¹¶æŸ¥é›†ä»£ç "><a href="#1-å¹¶æŸ¥é›†ä»£ç " class="headerlink" title="1.å¹¶æŸ¥é›†ä»£ç "></a>1.å¹¶æŸ¥é›†ä»£ç </h1><p><a href="https://www.runoob.com/data-structures/union-find-basic.html">å…·ä½“åŸç†</a></p>
<h2 id="1-1-ç®€å•ä»£ç "><a href="#1-1-ç®€å•ä»£ç " class="headerlink" title="1.1 ç®€å•ä»£ç "></a>1.1 ç®€å•ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UnionFind2</span> &#123;</span><br><span class="line">    <span class="comment">// æˆ‘ä»¬çš„ç¬¬äºŒç‰ˆUnion-Find, ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ„å»ºä¸€æ£µæŒ‡å‘çˆ¶èŠ‚ç‚¹çš„æ ‘</span></span><br><span class="line">    <span class="comment">// parent[i]è¡¨ç¤ºç¬¬ä¸€ä¸ªå…ƒç´ æ‰€æŒ‡å‘çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] parent;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;  <span class="comment">// æ•°æ®ä¸ªæ•°</span></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UnionFind2</span><span class="params">(<span class="type">int</span> count)</span>&#123;</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="title class_">int</span>[count];</span><br><span class="line">        <span class="built_in">this</span>.count = count;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–, æ¯ä¸€ä¸ªparent[i]æŒ‡å‘è‡ªå·±, è¡¨ç¤ºæ¯ä¸€ä¸ªå…ƒç´ è‡ªå·±è‡ªæˆä¸€ä¸ªé›†åˆ</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt; count ; i ++ )</span><br><span class="line">            parent[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾è¿‡ç¨‹, æŸ¥æ‰¾å…ƒç´ pæ‰€å¯¹åº”çš„é›†åˆç¼–å·</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> p)</span>&#123;</span><br><span class="line">        <span class="keyword">assert</span>( p &gt;= <span class="number">0</span> &amp;&amp; p &lt; count );</span><br><span class="line">        <span class="comment">// ä¸æ–­å»æŸ¥è¯¢è‡ªå·±çš„çˆ¶äº²èŠ‚ç‚¹, ç›´åˆ°åˆ°è¾¾æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// æ ¹èŠ‚ç‚¹çš„ç‰¹ç‚¹: parent[p] == p</span></span><br><span class="line">        <span class="keyword">while</span>( p != parent[p] )</span><br><span class="line">            p = parent[p];</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŸ¥çœ‹å…ƒç´ på’Œå…ƒç´ qæ˜¯å¦æ‰€å±ä¸€ä¸ªé›†åˆ</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">( <span class="type">int</span> p , <span class="type">int</span> q )</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆå¹¶å…ƒç´ på’Œå…ƒç´ qæ‰€å±çš„é›†åˆ</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unionElements</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pRoot</span> <span class="operator">=</span> find(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">qRoot</span> <span class="operator">=</span> find(q);</span><br><span class="line">        <span class="keyword">if</span>( pRoot == qRoot )</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        parent[pRoot] = qRoot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-2-size-ä¼˜åŒ–ä»£ç "><a href="#1-2-size-ä¼˜åŒ–ä»£ç " class="headerlink" title="1.2 size ä¼˜åŒ–ä»£ç "></a>1.2 size ä¼˜åŒ–ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UnionFind3</span> &#123;</span><br><span class="line">    <span class="comment">// parent[i]è¡¨ç¤ºç¬¬ä¸€ä¸ªå…ƒç´ æ‰€æŒ‡å‘çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] parent;</span><br><span class="line">    <span class="comment">// sz[i]è¡¨ç¤ºä»¥iä¸ºæ ¹çš„é›†åˆä¸­å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] sz;</span><br><span class="line">    <span class="comment">// æ•°æ®ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UnionFind3</span><span class="params">(<span class="type">int</span> count)</span>&#123;</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="title class_">int</span>[count];</span><br><span class="line">        sz = <span class="keyword">new</span> <span class="title class_">int</span>[count];</span><br><span class="line">        <span class="built_in">this</span>.count = count;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–, æ¯ä¸€ä¸ªparent[i]æŒ‡å‘è‡ªå·±, è¡¨ç¤ºæ¯ä¸€ä¸ªå…ƒç´ è‡ªå·±è‡ªæˆä¸€ä¸ªé›†åˆ</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt; count ; i ++ )&#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">            sz[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾è¿‡ç¨‹, æŸ¥æ‰¾å…ƒç´ pæ‰€å¯¹åº”çš„é›†åˆç¼–å·</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> p)</span>&#123;</span><br><span class="line">        <span class="keyword">assert</span>( p &gt;= <span class="number">0</span> &amp;&amp; p &lt; count );</span><br><span class="line">        <span class="comment">// ä¸æ–­å»æŸ¥è¯¢è‡ªå·±çš„çˆ¶äº²èŠ‚ç‚¹, ç›´åˆ°åˆ°è¾¾æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// æ ¹èŠ‚ç‚¹çš„ç‰¹ç‚¹: parent[p] == p</span></span><br><span class="line">        <span class="keyword">while</span>( p != parent[p] )</span><br><span class="line">            p = parent[p];</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥çœ‹å…ƒç´ på’Œå…ƒç´ qæ˜¯å¦æ‰€å±ä¸€ä¸ªé›†åˆ</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">( <span class="type">int</span> p , <span class="type">int</span> q )</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶å…ƒç´ på’Œå…ƒç´ qæ‰€å±çš„é›†åˆ</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unionElements</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pRoot</span> <span class="operator">=</span> find(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">qRoot</span> <span class="operator">=</span> find(q);</span><br><span class="line">        <span class="keyword">if</span>( pRoot == qRoot )</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// æ ¹æ®ä¸¤ä¸ªå…ƒç´ æ‰€åœ¨æ ‘çš„å…ƒç´ ä¸ªæ•°ä¸åŒåˆ¤æ–­åˆå¹¶æ–¹å‘</span></span><br><span class="line">        <span class="comment">// å°†å…ƒç´ ä¸ªæ•°å°‘çš„é›†åˆåˆå¹¶åˆ°å…ƒç´ ä¸ªæ•°å¤šçš„é›†åˆä¸Š</span></span><br><span class="line">        <span class="keyword">if</span>( sz[pRoot] &lt; sz[qRoot] )&#123;</span><br><span class="line">            parent[pRoot] = qRoot;</span><br><span class="line">            sz[qRoot] += sz[pRoot];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            parent[qRoot] = pRoot;</span><br><span class="line">            sz[pRoot] += sz[qRoot];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-3-rankä¼˜åŒ–ä»£ç "><a href="#1-3-rankä¼˜åŒ–ä»£ç " class="headerlink" title="1.3 rankä¼˜åŒ–ä»£ç "></a>1.3 rankä¼˜åŒ–ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŸºäºrankçš„ä¼˜åŒ–</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UnionFind4</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] rank;   <span class="comment">// rank[i]è¡¨ç¤ºä»¥iä¸ºæ ¹çš„é›†åˆæ‰€è¡¨ç¤ºçš„æ ‘çš„å±‚æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] parent; <span class="comment">// parent[i]è¡¨ç¤ºç¬¬iä¸ªå…ƒç´ æ‰€æŒ‡å‘çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;    <span class="comment">// æ•°æ®ä¸ªæ•°</span></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UnionFind4</span><span class="params">(<span class="type">int</span> count)</span>&#123;</span><br><span class="line">        rank = <span class="keyword">new</span> <span class="title class_">int</span>[count];</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="title class_">int</span>[count];</span><br><span class="line">        <span class="built_in">this</span>.count = count;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–, æ¯ä¸€ä¸ªparent[i]æŒ‡å‘è‡ªå·±, è¡¨ç¤ºæ¯ä¸€ä¸ªå…ƒç´ è‡ªå·±è‡ªæˆä¸€ä¸ªé›†åˆ</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt; count ; i ++ )&#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">            rank[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾è¿‡ç¨‹, æŸ¥æ‰¾å…ƒç´ pæ‰€å¯¹åº”çš„é›†åˆç¼–å·</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> p)</span>&#123;</span><br><span class="line">        <span class="keyword">assert</span>( p &gt;= <span class="number">0</span> &amp;&amp; p &lt; count );</span><br><span class="line">        <span class="comment">// ä¸æ–­å»æŸ¥è¯¢è‡ªå·±çš„çˆ¶äº²èŠ‚ç‚¹, ç›´åˆ°åˆ°è¾¾æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// æ ¹èŠ‚ç‚¹çš„ç‰¹ç‚¹: parent[p] == p</span></span><br><span class="line">        <span class="keyword">while</span>( p != parent[p] )</span><br><span class="line">            p = parent[p];</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŸ¥çœ‹å…ƒç´ på’Œå…ƒç´ qæ˜¯å¦æ‰€å±ä¸€ä¸ªé›†åˆ</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">( <span class="type">int</span> p , <span class="type">int</span> q )</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆå¹¶å…ƒç´ på’Œå…ƒç´ qæ‰€å±çš„é›†åˆ</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unionElements</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pRoot</span> <span class="operator">=</span> find(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">qRoot</span> <span class="operator">=</span> find(q);</span><br><span class="line">        <span class="keyword">if</span>( pRoot == qRoot )</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span>( rank[pRoot] &lt; rank[qRoot] )&#123;</span><br><span class="line">            parent[pRoot] = qRoot;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( rank[qRoot] &lt; rank[pRoot])&#123;</span><br><span class="line">            parent[qRoot] = pRoot;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123; <span class="comment">// rank[pRoot] == rank[qRoot]</span></span><br><span class="line">            parent[pRoot] = qRoot;</span><br><span class="line">            rank[qRoot] += <span class="number">1</span>;   <span class="comment">// ç»´æŠ¤rankçš„å€¼</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-4-è·¯å¾„ä¼˜åŒ–ä»£ç "><a href="#1-4-è·¯å¾„ä¼˜åŒ–ä»£ç " class="headerlink" title="1.4 è·¯å¾„ä¼˜åŒ–ä»£ç "></a>1.4 è·¯å¾„ä¼˜åŒ–ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UnionFind4</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] rank;   <span class="comment">// rank[i]è¡¨ç¤ºä»¥iä¸ºæ ¹çš„é›†åˆæ‰€è¡¨ç¤ºçš„æ ‘çš„å±‚æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] parent; <span class="comment">// parent[i]è¡¨ç¤ºç¬¬iä¸ªå…ƒç´ æ‰€æŒ‡å‘çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;    <span class="comment">// æ•°æ®ä¸ªæ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UnionFind4</span><span class="params">(<span class="type">int</span> count)</span>&#123;</span><br><span class="line">        rank = <span class="keyword">new</span> <span class="title class_">int</span>[count];</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="title class_">int</span>[count];</span><br><span class="line">        <span class="built_in">this</span>.count = count;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–, æ¯ä¸€ä¸ªparent[i]æŒ‡å‘è‡ªå·±, è¡¨ç¤ºæ¯ä¸€ä¸ªå…ƒç´ è‡ªå·±è‡ªæˆä¸€ä¸ªé›†åˆ</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt; count ; i ++ )&#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">            rank[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾è¿‡ç¨‹, æŸ¥æ‰¾å…ƒç´ pæ‰€å¯¹åº”çš„é›†åˆç¼–å·</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> p)</span>&#123;</span><br><span class="line">        <span class="keyword">assert</span>( p &gt;= <span class="number">0</span> &amp;&amp; p &lt; count );</span><br><span class="line">        <span class="comment">// ä¸æ–­å»æŸ¥è¯¢è‡ªå·±çš„çˆ¶äº²èŠ‚ç‚¹, ç›´åˆ°åˆ°è¾¾æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// æ ¹èŠ‚ç‚¹çš„ç‰¹ç‚¹: parent[p] == p</span></span><br><span class="line">        <span class="keyword">while</span>( p != parent[p] )</span><br><span class="line">            p = parent[p];</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç¬¬äºŒç§è·¯å¾„å‹ç¼©ç®—æ³•</span></span><br><span class="line">        <span class="comment">//if( p != parent[p] )</span></span><br><span class="line">        <span class="comment">//parent[p] = find( parent[p] );</span></span><br><span class="line">        <span class="comment">//return parent[p];</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥çœ‹å…ƒç´ på’Œå…ƒç´ qæ˜¯å¦æ‰€å±ä¸€ä¸ªé›†åˆ</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">( <span class="type">int</span> p , <span class="type">int</span> q )</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶å…ƒç´ på’Œå…ƒç´ qæ‰€å±çš„é›†åˆ</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unionElements</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">pRoot</span> <span class="operator">=</span> find(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">qRoot</span> <span class="operator">=</span> find(q);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>( pRoot == qRoot )</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>( rank[pRoot] &lt; rank[qRoot] )&#123;</span><br><span class="line">            parent[pRoot] = qRoot;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( rank[qRoot] &lt; rank[pRoot])&#123;</span><br><span class="line">            parent[qRoot] = pRoot;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123; <span class="comment">// rank[pRoot] == rank[qRoot]</span></span><br><span class="line">            parent[pRoot] = qRoot;</span><br><span class="line">            rank[qRoot] += <span class="number">1</span>;   <span class="comment">// ç»´æŠ¤rankçš„å€¼</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      
        <categories>
            
            <category> ç®—æ³•é›†é”¦ </category>
            
            <category> ç®—æ³•æ¨¡æ¿ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ¨¡æ¿ </tag>
            
            <tag> å¹¶æŸ¥é›† </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[äºŒåˆ†å›¾æ¨¡æ¿]]></title>
      <url>/2022/10/18/NO4/</url>
      <content type="html"><![CDATA[<h1 id="1-æŸ“è‰²æ³•åˆ¤å®šäºŒåˆ†å›¾æ¨¡æ¿"><a href="#1-æŸ“è‰²æ³•åˆ¤å®šäºŒåˆ†å›¾æ¨¡æ¿" class="headerlink" title="1.æŸ“è‰²æ³•åˆ¤å®šäºŒåˆ†å›¾æ¨¡æ¿"></a>1.æŸ“è‰²æ³•åˆ¤å®šäºŒåˆ†å›¾æ¨¡æ¿</h1><blockquote>
<p>æŸ“è‰²æ³•æ¨¡æ¿ä¸€èˆ¬ç”¨äºåˆ¤å®šäºŒåˆ†å›¾ï¼Œä½•ä¸ºäºŒåˆ†å›¾ï¼Ÿç›´ç™½çš„å°†å°±æ˜¯ä¸€ä¸ªå›¾ï¼Œå°†å›¾ä¸­ç›¸äº’è¿æ¥çš„ä¸¤ä¸ª èŠ‚ç‚¹ä¹‹é—´åˆ†æˆä¸¤ä»½ï¼Œæˆ–è€…è¯´ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´å¿…é¡»æ˜¯å±äºä¸¤ä¸ªä¸åŒçš„é›†åˆ</p>
<p>è¿™æ ·çš„æ¨¡æ¿é¢˜é€šå¸¸çš„æ€è·¯å°±æ˜¯æ¨¡æ‹Ÿï¼Œä½†ä¸æ˜¯æ™®é€šçš„æ¨¡æ‹Ÿï¼Œè¦å…ˆåˆ©ç”¨å›¾çš„å­˜å‚¨åŸç†â€”â€”å‰å‘æ˜Ÿé“¾è¡¨å­˜å‚¨ï¼Œç„¶åå†è¿›è¡ŒDFSï¼Œæ‰€ä»¥æƒ³è¦ç†è§£è¿™ä¸ªæ¨¡æ¿ï¼Œå¿…é¡»è¦å…ˆå­¦ä¼šå‰å‘æ˜Ÿé“¾è¡¨å­˜å‚¨</p>
</blockquote>
<h1 id="2-å‰å‘æ˜Ÿé“¾å›¾è¡¨ç¤ºæ³•"><a href="#2-å‰å‘æ˜Ÿé“¾å›¾è¡¨ç¤ºæ³•" class="headerlink" title="2.å‰å‘æ˜Ÿé“¾å›¾è¡¨ç¤ºæ³•"></a>2.å‰å‘æ˜Ÿé“¾å›¾è¡¨ç¤ºæ³•</h1><blockquote>
<p>é¦–å…ˆåŸç†å°±æ˜¯å¯¹äºå›¾é‡Œçš„èŠ‚ç‚¹éƒ½è¦ç”¨åºå·è¡¨ç¤ºï¼Œç„¶åæˆ‘ä»¬ç”¨è¿™ä¸ªåºå·å’Œæ•°ç»„indexç»™é‡åˆï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å°±å¯ä»¥å¯¹è¾¹å­˜å‚¨ä¸€äº›é™„åŠ å±æ€§ï¼Œç„¶åå†å°†èŠ‚ç‚¹ä¹Ÿç»™è¿™æ ·ä½¿ç”¨ã€‚å…·ä½“çœ‹ä¸‹é¢çš„ä»£ç </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//he å°±æ˜¯èŠ‚ç‚¹æ•°ç»„ï¼Œæ¯ä¸€ä¸ªheçš„indexè¡¨ç¤ºä¸€ä¸ªèŠ‚ç‚¹åºå·ï¼Œæ•°ç»„å€¼ä»£è¡¨èŠ‚ç‚¹å±æ€§ï¼Œè¿™é‡Œçš„å±æ€§è¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹ä½œä¸ºå¤´èŠ‚ç‚¹ç¬¬ä¸€ä¸ªå‡ºè¾¹çš„åºå·ã€‚</span></span><br><span class="line"><span class="comment">//e å°±æ˜¯ç¬¬ä¸€ä¸ªè¾¹æ•°ç»„ï¼Œeçš„indexè¡¨ç¤ºè¾¹åºå·ï¼Œæ•°ç»„å€¼è¡¨ç¤ºè¾¹çš„å±æ€§ï¼Œè¿™é‡Œè§„å®šå±æ€§æ˜¯è¿™ä¸ªè¾¹æŒ‡å‘çš„èŠ‚ç‚¹çš„åºå·</span></span><br><span class="line"><span class="comment">//ne å°±æ˜¯ç¬¬äºŒä¸ªè¾¹æ•°ç»„ï¼Œneçš„indexè¡¨ç¤ºè¾¹åºå·ï¼Œæ•°ç»„å€¼è¡¨ç¤ºè¾¹çš„å±æ€§ï¼Œè¿™é‡Œè§„å®šè¿™ä¸ªå±æ€§æ˜¯å’Œè¿™ä¸ªè¾¹å…±åŒå¤´èŠ‚ç‚¹çš„é‚»å±…è¾¹çš„åºå·ã€‚</span></span><br><span class="line"><span class="comment">//wi æ˜¯ç¬¬ä¸‰ä¸ªï¼Œè¿™é‡Œçš„å±æ€§æ˜¯è¾¹çš„æƒé‡</span></span><br><span class="line"><span class="type">int</span>[] he = <span class="keyword">new</span> <span class="title class_">int</span>[N], e = <span class="keyword">new</span> <span class="title class_">int</span>[M], ne = <span class="keyword">new</span> <span class="title class_">int</span>[M], w = <span class="keyword">new</span> <span class="title class_">int</span>[M];</span><br><span class="line"><span class="type">int</span> idx;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = he[a];</span><br><span class="line">    he[a] = idx;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    idx++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å»ºç«‹å¥½æ¨¡å‹ä¹‹åï¼Œæœ€é‡è¦çš„æ˜¯å¦‚ä½•éå†</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> he[a]; i != -<span class="number">1</span>; i = ne[i]) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> e[i], c = w[i]; <span class="comment">// å­˜åœ¨ç”± a æŒ‡å‘ b çš„è¾¹ï¼Œæƒé‡ä¸º c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="3-ä»¥é¢˜ä»£ç»ƒ"><a href="#3-ä»¥é¢˜ä»£ç»ƒ" class="headerlink" title="3.ä»¥é¢˜ä»£ç»ƒ"></a>3.ä»¥é¢˜ä»£ç»ƒ</h1><blockquote>
<h4 id="886-å¯èƒ½çš„äºŒåˆ†æ³•"><a href="#886-å¯èƒ½çš„äºŒåˆ†æ³•" class="headerlink" title="886. å¯èƒ½çš„äºŒåˆ†æ³•"></a><a href="https://leetcode.cn/problems/possible-bipartition/">886. å¯èƒ½çš„äºŒåˆ†æ³•</a></h4><p>éš¾åº¦ä¸­ç­‰</p>
<p>ç»™å®šä¸€ç»„ <code>n</code> äººï¼ˆç¼–å·ä¸º <code>1, 2, ..., n</code>ï¼‰ï¼Œ æˆ‘ä»¬æƒ³æŠŠæ¯ä¸ªäººåˆ†è¿›<strong>ä»»æ„</strong>å¤§å°çš„ä¸¤ç»„ã€‚æ¯ä¸ªäººéƒ½å¯èƒ½ä¸å–œæ¬¢å…¶ä»–äººï¼Œé‚£ä¹ˆä»–ä»¬ä¸åº”è¯¥å±äºåŒä¸€ç»„ã€‚</p>
<p>ç»™å®šæ•´æ•° <code>n</code> å’Œæ•°ç»„ <code>dislikes</code> ï¼Œå…¶ä¸­ <code>dislikes[i] = [ai, bi]</code> ï¼Œè¡¨ç¤ºä¸å…è®¸å°†ç¼–å·ä¸º <code>ai</code> å’Œ <code>bi</code>çš„äººå½’å…¥åŒä¸€ç»„ã€‚å½“å¯ä»¥ç”¨è¿™ç§æ–¹æ³•å°†æ‰€æœ‰äººåˆ†è¿›ä¸¤ç»„æ—¶ï¼Œè¿”å› <code>true</code>ï¼›å¦åˆ™è¿”å› <code>false</code>ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ 1ï¼š</p>
<blockquote>
<p>è¾“å…¥ï¼šn = 4, dislikes = [[1,2],[1,3],[2,4]]<br>     è¾“å‡ºï¼štrue<br>        è§£é‡Šï¼šgroup1 [1,4], group2 [2,3]</p>
<p>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šn = 3, dislikes = [[1,2],[1,3],[2,3]]<br>        è¾“å‡ºï¼šfalse<br>     ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šn = 5, dislikes = [[1,2],[2,3],[3,4],[4,5],[1,5]]<br>      è¾“å‡ºï¼šfalse</p>
</blockquote>
<blockquote>
<blockquote>
<p>æç¤ºï¼š </p>
<p>1 &lt;= n &lt;= 2000<br>0 &lt;= dislikes.length &lt;= 104<br>dislikes[i].length == 2<br>1 &lt;= dislikes[i][j] &lt;= n<br>ai &lt; bi<br>dislikes ä¸­æ¯ä¸€ç»„éƒ½ ä¸åŒ</p>
</blockquote>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> <span class="number">2010</span>, M = <span class="number">2</span> * <span class="number">10010</span>;</span><br><span class="line">    <span class="type">int</span>[] he = <span class="keyword">new</span> <span class="title class_">int</span>[N], e = <span class="keyword">new</span> <span class="title class_">int</span>[M], ne = <span class="keyword">new</span> <span class="title class_">int</span>[M], color = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">    <span class="type">int</span> idx;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        e[idx] = b;</span><br><span class="line">        ne[idx] = he[a];</span><br><span class="line">        he[a] = idx++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> cur)</span> &#123;</span><br><span class="line">        color[u] = cur;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> he[u]; i != -<span class="number">1</span>; i = ne[i]) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> e[i];</span><br><span class="line">            <span class="keyword">if</span> (color[j] == cur) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span> (color[j] == <span class="number">0</span> &amp;&amp; !dfs(j, <span class="number">3</span> - cur)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">possibleBipartition</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[][] ds)</span> &#123;</span><br><span class="line">        Arrays.fill(he, -<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//æ·»åŠ å›¾</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] info : ds) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> info[<span class="number">0</span>], b = info[<span class="number">1</span>];</span><br><span class="line">            add(a, b); add(b, a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¼€å§‹éå†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (color[i] != <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (!dfs(i, <span class="number">1</span>)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      
        <categories>
            
            <category> ç®—æ³•é›†é”¦ </category>
            
            <category> ç®—æ³•æ¨¡æ¿ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ¨¡æ¿ </tag>
            
            <tag> å‰å‘æ˜Ÿé“¾å›¾ </tag>
            
            <tag> é‚»æ¥è¡¨ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ•´ç†ç”Ÿæ´»å’Œæ•´ç†æ€ç»´]]></title>
      <url>/2022/10/15/NO-3/</url>
      <content type="html"><![CDATA[<h2 id="æ•´ç†ç”Ÿæ´»å’Œæ•´ç†æ€ç»´"><a href="#æ•´ç†ç”Ÿæ´»å’Œæ•´ç†æ€ç»´" class="headerlink" title="æ•´ç†ç”Ÿæ´»å’Œæ•´ç†æ€ç»´"></a>æ•´ç†ç”Ÿæ´»å’Œæ•´ç†æ€ç»´</h2>]]></content>
      
        <categories>
            
            <category> ç”Ÿæ´»æ„Ÿæ‚Ÿ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[åºåˆ—dpä¹‹940 ä¸åŒçš„å­åºåˆ—II]]></title>
      <url>/2022/10/09/NO.1/</url>
      <content type="html"><![CDATA[<h2 id="940ã€ä¸åŒçš„å­åºåˆ—II"><a href="#940ã€ä¸åŒçš„å­åºåˆ—II" class="headerlink" title="940ã€ä¸åŒçš„å­åºåˆ—II"></a><a href="https://leetcode.cn/problems/distinct-subsequences-ii/">940ã€ä¸åŒçš„å­åºåˆ—II</a></h2><h4 id="é¢˜ç›®è¡¨è¿°"><a href="#é¢˜ç›®è¡¨è¿°" class="headerlink" title="é¢˜ç›®è¡¨è¿°"></a>é¢˜ç›®è¡¨è¿°</h4><blockquote>
<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œè®¡ç®— s çš„ ä¸åŒéç©ºå­åºåˆ— çš„ä¸ªæ•°ã€‚å› ä¸ºç»“æœå¯èƒ½å¾ˆå¤§ï¼Œæ‰€ä»¥è¿”å›ç­”æ¡ˆéœ€è¦å¯¹ 10^9 + 7 å–ä½™ ã€‚</p>
<p>å­—ç¬¦ä¸²çš„ å­åºåˆ— æ˜¯ç»ç”±åŸå­—ç¬¦ä¸²åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯èƒ½ä¸åˆ é™¤ï¼‰å­—ç¬¦ä½†ä¸æ”¹å˜å‰©ä½™å­—ç¬¦ç›¸å¯¹ä½ç½®çš„ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ã€‚</p>
<p>ä¾‹å¦‚ï¼Œâ€aceâ€ æ˜¯ â€œabcdeâ€ çš„ä¸€ä¸ªå­åºåˆ—ï¼Œä½† â€œaecâ€ ä¸æ˜¯ã€‚</p>
<blockquote>
<p>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼šs = â€œabcâ€<br>è¾“å‡ºï¼š7<br>è§£é‡Šï¼š7 ä¸ªä¸åŒçš„å­åºåˆ—åˆ†åˆ«æ˜¯ â€œaâ€, â€œbâ€, â€œcâ€, â€œabâ€, â€œacâ€, â€œbcâ€, ä»¥åŠ â€œabcâ€ã€‚</p>
</blockquote>
<blockquote>
<p>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼šs = â€œabaâ€<br>è¾“å‡ºï¼š6<br>è§£é‡Šï¼š6 ä¸ªä¸åŒçš„å­åºåˆ—åˆ†åˆ«æ˜¯ â€œaâ€, â€œbâ€, â€œabâ€, â€œbaâ€, â€œaaâ€ ä»¥åŠ â€œabaâ€ã€‚    </p>
</blockquote>
<blockquote>
<p>ç¤ºä¾‹ 3ï¼š<br>è¾“å…¥ï¼šs = â€œaaaâ€<br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼š3 ä¸ªä¸åŒçš„å­åºåˆ—åˆ†åˆ«æ˜¯ â€œaâ€, â€œaaâ€ ä»¥åŠ â€œaaaâ€ã€‚</p>
</blockquote>
<p>æç¤ºï¼š</p>
<p>1 &lt;= s.length &lt;= 2000<br>s ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</p>
<p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/distinct-subsequences-ii">https://leetcode.cn/problems/distinct-subsequences-ii</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</blockquote>
<h4 id="åºåˆ—DPé¢˜è§£"><a href="#åºåˆ—DPé¢˜è§£" class="headerlink" title="åºåˆ—DPé¢˜è§£"></a>åºåˆ—DPé¢˜è§£</h4><p>è¿™é“é¢˜æ˜¯å±äºåºåˆ—DPï¼Œå­é—®é¢˜æ˜¯ä»¥æŸä¸€ä¸ªdp[i][j],å…¶ä¸­iè¡¨ç¤ºå‰iä¸ªå­—ç¬¦ï¼Œä»¥å­—æ¯jä¸ºç»“å°¾çš„æœ‰æ•ˆåºåˆ—æœ‰å¤šå°‘ã€‚å…¶ä¸­jè¡¨ç¤ºa~z,å®šä¹‰æœ‰äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<p>åœ¨dp[i][a~z]çš„è¿‡ç¨‹ä¸­</p>
<p>ç¬¬ä¸€ç§æƒ…å†µï¼š</p>
<p>â€‹                     s[i]ï¼=j,è¿™è¡¨ç¤ºs[i]å°†ä¸ä¼šè¢«é€‰ä¸­ï¼Œé‚£è¡¨ç¤ºdp[i][j]=dp[i-1][j],</p>
<p>ç¬¬äºŒç§æƒ…å†µï¼š</p>
<p>â€‹                      s[i]==j,è¿™è¡¨ç¤ºs[i]ä¼šè¢«é€‰ä¸­ä½œä¸ºç»“å°¾å­—ç¬¦ï¼Œé‚£ä¹ˆdp[i-1][a~z]æ‰€æœ‰çš„åºåˆ—åè¾¹åŠ ä¸Šs[i]éƒ½å°†ä¼šç»„æˆæ–°                                åºåˆ—ï¼Œé‚£è¡¨ç¤ºdp[i][j]=dp[i-1][a-z]+1,åé¢çš„1ï¼Œè¡¨ç¤ºs[i]å•ç‹¬ä½œä¸ºä¸€ä¸ªåºåˆ—ã€‚</p>
<p>æ‰€ä»¥æœ€ç»ˆçš„ç»“æœå°±æ˜¯s[s.length-1][a~z]ã€‚</p>
<p>æŒ‰é“ç†æ¥è®²ï¼Œéœ€è¦dpè½¬ç§»çŸ©é˜µæ˜¯s.length*26çš„ï¼Œä½†æ˜¯å¯ä»¥è¿›è¡Œç©ºé—´çš„å‹ç¼©ï¼Œdp[i]è¡Œç”¨çš„æ˜¯dp[i-1]è¡Œçš„ä¿¡æ¯å’Œdp[i-1]è¡Œçš„æ€»å’Œï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡Œç©ºé—´çš„å‹ç¼©ï¼Œå‹ç¼©åä»£ç å¦‚ä¸‹ï¼ˆè¿™é“é¢˜è¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œé‚£å°±æ˜¯è¦MODä¸€ä¸‹ï¼‰ã€‚</p>
<h4 id="ä»£ç é¢˜è§£"><a href="#ä»£ç é¢˜è§£" class="headerlink" title="ä»£ç é¢˜è§£"></a>ä»£ç é¢˜è§£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> (<span class="type">int</span>)<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">distinctSubseqII</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> c-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> dp[idx];</span><br><span class="line">            dp[idx] = (<span class="number">1</span>+result)%MOD;</span><br><span class="line">            result=(result+dp[idx])%MOD;</span><br><span class="line">            result = (result-tmp+MOD)%MOD;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      
        <categories>
            
            <category> ç®—æ³•é›†é”¦ </category>
            
            <category> ç®—æ³•é¢˜ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å­—ç¬¦ä¸² </tag>
            
            <tag> å›°éš¾éš¾åº¦ </tag>
            
            <tag> åºåˆ—DP </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[856.æ‹¬å·çš„åˆ†æ•°]]></title>
      <url>/2022/10/09/NO2/</url>
      <content type="html"><![CDATA[<h2 id="856-æ‹¬å·çš„åˆ†æ•°"><a href="#856-æ‹¬å·çš„åˆ†æ•°" class="headerlink" title="856. æ‹¬å·çš„åˆ†æ•°"></a>856. æ‹¬å·çš„åˆ†æ•°</h2><h4 id="é¢˜ç›®è¡¨è¿°"><a href="#é¢˜ç›®è¡¨è¿°" class="headerlink" title="é¢˜ç›®è¡¨è¿°"></a>é¢˜ç›®è¡¨è¿°</h4><blockquote>
<p>ç»™å®šä¸€ä¸ªå¹³è¡¡æ‹¬å·å­—ç¬¦ä¸² Sï¼ŒæŒ‰ä¸‹è¿°è§„åˆ™è®¡ç®—è¯¥å­—ç¬¦ä¸²çš„åˆ†æ•°ï¼š<br>() å¾— 1 åˆ†ã€‚<br>AB å¾— A + B åˆ†ï¼Œå…¶ä¸­ A å’Œ B æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚<br>(A) å¾— 2 * A åˆ†ï¼Œå…¶ä¸­ A æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ 1<br>è¾“å…¥ï¼š â€œ()â€<br>è¾“å‡ºï¼š 1</p>
<p>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼š â€œ(())â€<br>è¾“å‡ºï¼š 2</p>
<p>ç¤ºä¾‹ 3ï¼š<br>è¾“å…¥ï¼š â€œ()()â€<br>è¾“å‡ºï¼š 2</p>
<p>ç¤ºä¾‹ 4ï¼š<br>è¾“å…¥ï¼š â€œ(()(()))â€<br>è¾“å‡ºï¼š 6</p>
<p>æç¤ºï¼š<br>S æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ï¼Œä¸”åªå«æœ‰ ( å’Œ ) ã€‚<br>2 &lt;= S.length &lt;= 50</p>
<h4 id="ä»£ç é¢˜è§£"><a href="#ä»£ç é¢˜è§£" class="headerlink" title="ä»£ç é¢˜è§£"></a>ä»£ç é¢˜è§£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    String s;</span><br><span class="line">    <span class="type">int</span> idx ;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">scoreOfParentheses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">      <span class="comment">//ä½¿ç”¨é€’å½’å‡½æ•°ï¼ŒæŒ‰ç…§å¸¸è§„æ€ç»´</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        idx = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">this</span>.s =s;</span><br><span class="line">        <span class="type">int</span> <span class="variable">lenth</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="keyword">while</span>(idx&lt;lenth)</span><br><span class="line">        &#123;</span><br><span class="line">            ans+=addWho();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//flag =0è¡¨ç¤ºÃ— flag = 1è¡¨ç¤º+</span></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addWho</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">       Deque&lt;Character&gt; deque  = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">       deque.push(s.charAt(idx));</span><br><span class="line">       idx++;</span><br><span class="line">       <span class="type">boolean</span> <span class="variable">on</span> <span class="operator">=</span><span class="literal">false</span>;</span><br><span class="line">       <span class="keyword">while</span>(!deque.isEmpty())</span><br><span class="line">       &#123;</span><br><span class="line">          <span class="comment">// System.out.println(idx);</span></span><br><span class="line">           <span class="type">char</span> <span class="variable">c</span>  <span class="operator">=</span>s.charAt(idx);</span><br><span class="line">           <span class="keyword">if</span>(!on)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">if</span>(c==<span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">               &#123;</span><br><span class="line">                   deque.push(c);</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">else</span></span><br><span class="line">               &#123;</span><br><span class="line">                   on =<span class="literal">true</span>;</span><br><span class="line">                   deque.poll();</span><br><span class="line">               &#125;</span><br><span class="line">               idx++;</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               <span class="keyword">if</span>(c==<span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">               &#123;</span><br><span class="line">                   ans+=addWho();</span><br><span class="line"></span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">else</span>&#123;</span><br><span class="line">                   deque.poll();</span><br><span class="line">                   ans=ans*<span class="number">2</span>;</span><br><span class="line">                   idx++;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      
        <categories>
            
            <category> ç®—æ³•é›†é”¦ </category>
            
            <category> ç®—æ³•é¢˜ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å­—ç¬¦ä¸² </tag>
            
            <tag> ä¸­ç­‰éš¾åº¦ </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
